<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Quest: Code Warrior RPG</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Courier New", monospace;
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: #fff;
        min-height: 100vh;
        overflow-x: hidden;
      }

      .game-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
        animation: glow 2s ease-in-out infinite alternate;
      }

      @keyframes glow {
        from {
          text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #4fc3f7;
        }
        to {
          text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #4fc3f7;
        }
      }

      .player-stats {
        display: flex;
        justify-content: space-between;
        background: rgba(0, 0, 0, 0.3);
        padding: 20px;
        border-radius: 15px;
        margin-bottom: 20px;
        border: 2px solid #4fc3f7;
      }

      .stat {
        text-align: center;
      }

      .stat-label {
        font-size: 14px;
        opacity: 0.8;
        margin-bottom: 5px;
      }

      .stat-value {
        font-size: 24px;
        font-weight: bold;
        color: #4fc3f7;
      }

      .progress-bar {
        width: 200px;
        height: 20px;
        background: rgba(0, 0, 0, 0.5);
        border-radius: 10px;
        overflow: hidden;
        margin: 5px auto;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #4fc3f7, #29b6f6);
        transition: width 0.5s ease;
        border-radius: 10px;
      }

      .game-area {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
      }

      .story-panel,
      .challenge-panel {
        background: rgba(0, 0, 0, 0.4);
        padding: 25px;
        border-radius: 15px;
        border: 2px solid #4fc3f7;
        min-height: 400px;
      }

      .story-panel h3,
      .challenge-panel h3 {
        color: #4fc3f7;
        margin-bottom: 15px;
        font-size: 20px;
      }

      .character {
        width: 80px;
        height: 80px;
        margin: 10px auto;
        border-radius: 50%;
        background: linear-gradient(45deg, #ff6b35, #f7931e);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      .code-input {
        width: 100%;
        height: 120px;
        background: rgba(0, 0, 0, 0.7);
        border: 2px solid #4fc3f7;
        border-radius: 8px;
        color: #fff;
        font-family: "Courier New", monospace;
        font-size: 14px;
        padding: 15px;
        resize: vertical;
        margin: 10px 0;
      }

      .code-input:focus {
        outline: none;
        border-color: #29b6f6;
        box-shadow: 0 0 10px rgba(79, 195, 247, 0.5);
      }

      .button {
        background: linear-gradient(45deg, #4fc3f7, #29b6f6);
        border: none;
        padding: 12px 25px;
        border-radius: 25px;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 5px;
        font-family: "Courier New", monospace;
      }

      .button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(79, 195, 247, 0.4);
      }

      .button:active {
        transform: translateY(0);
      }

      .result {
        margin: 15px 0;
        padding: 15px;
        border-radius: 8px;
        font-weight: bold;
      }

      .success {
        background: rgba(76, 175, 80, 0.2);
        border: 2px solid #4caf50;
        color: #4caf50;
      }

      .error {
        background: rgba(244, 67, 54, 0.2);
        border: 2px solid #f44336;
        color: #f44336;
      }

      .hint {
        background: rgba(255, 152, 0, 0.2);
        border: 2px solid #ff9800;
        color: #ff9800;
        margin: 10px 0;
        padding: 10px;
        border-radius: 8px;
        font-size: 14px;
      }

      .inventory {
        background: rgba(0, 0, 0, 0.4);
        padding: 20px;
        border-radius: 15px;
        border: 2px solid #4fc3f7;
        text-align: center;
      }

      .skill-badge {
        display: inline-block;
        background: linear-gradient(45deg, #ff6b35, #f7931e);
        padding: 8px 15px;
        margin: 5px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: bold;
        animation: fadeIn 0.5s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.5);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .next-button {
        background: linear-gradient(45deg, #4caf50, #8bc34a);
      }

      @media (max-width: 768px) {
        .game-area {
          grid-template-columns: 1fr;
        }

        .player-stats {
          flex-direction: column;
          gap: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="game-container">
      <div class="header">
        <h1>‚öîÔ∏è JavaScript Quest: Code Warrior ‚öîÔ∏è</h1>
        <p>Master the ancient art of JavaScript programming</p>
      </div>

      <div class="player-stats">
        <div class="stat">
          <div class="stat-label">Level</div>
          <div class="stat-value" id="level">1</div>
        </div>
        <div class="stat">
          <div class="stat-label">Experience</div>
          <div class="progress-bar">
            <div class="progress-fill" id="xp-bar" style="width: 0%"></div>
          </div>
          <div class="stat-value"><span id="xp">0</span>/100</div>
        </div>
        <div class="stat">
          <div class="stat-label">Health</div>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="health-bar"
              style="
                width: 100%;
                background: linear-gradient(90deg, #4caf50, #8bc34a);
              "
            ></div>
          </div>
          <div class="stat-value"><span id="health">100</span>/100</div>
        </div>
        <div class="stat">
          <div class="stat-label">Mana</div>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="mana-bar"
              style="
                width: 100%;
                background: linear-gradient(90deg, #9c27b0, #e91e63);
              "
            ></div>
          </div>
          <div class="stat-value"><span id="mana">50</span>/50</div>
        </div>
      </div>

      <div class="game-area">
        <div class="story-panel">
          <h3>üìú Current Quest</h3>
          <div class="character" id="character">üßô‚Äç‚ôÇÔ∏è</div>
          <div id="story-text">
            Welcome, young apprentice! I am Gandalf the JavaScript, guardian of
            the Code Realm. The kingdom is under attack by the Syntax Demons,
            and only a master of JavaScript can save us! Your journey begins in
            the Village of Variables. Here, you must learn to store magical
            values that will power your spells. Complete this first challenge to
            prove you're worthy of the quest!
          </div>
        </div>

        <div class="challenge-panel">
          <h3>‚ö° Coding Challenge</h3>
          <div id="challenge-text">
            <strong>Quest 1: The Village of Variables</strong><br /><br />
            Create a variable called 'heroName' and assign it your name as a
            string. Then create a variable called 'heroLevel' and assign it the
            number 1.
            <br /><br />
            <em>Remember: Use 'let' or 'const' to declare variables!</em>
          </div>

          <textarea
            class="code-input"
            id="code-input"
            placeholder="Write your JavaScript code here..."
          ></textarea>

          <div>
            <button class="button" onclick="runCode()">
              üî• Cast Spell (Run Code)
            </button>
            <button class="button" onclick="getHint()">
              üí° Ask Oracle (Hint)
            </button>
            <button
              class="button next-button"
              id="next-btn"
              onclick="nextChallenge()"
              style="display: none"
            >
              ‚öîÔ∏è Next Quest
            </button>
          </div>

          <div id="result"></div>
          <div id="hint" style="display: none"></div>
        </div>
      </div>

      <div class="inventory">
        <h3>üéí Skills Mastered</h3>
        <div id="skills"></div>
      </div>
    </div>

    <script>
      const gameState = {
        level: 1,
        xp: 0,
        health: 100,
        mana: 50,
        currentChallenge: 0,
        skills: [],
        maxHealth: 100,
        maxMana: 50,
      };

      const challenges = [
        {
          title: "The Village of Variables",
          story:
            "Welcome, young apprentice! I am Gandalf the JavaScript, guardian of the Code Realm. The kingdom is under attack by the Syntax Demons, and only a master of JavaScript can save us! Your journey begins in the Village of Variables. Here, you must learn to store magical values that will power your spells.",
          challenge:
            "Create a variable called 'heroName' and assign it your name as a string. Then create a variable called 'heroLevel' and assign it the number 1.",
          hint: "Use 'let heroName = \"YourName\";' and 'let heroLevel = 1;'",
          solution: (code) => {
            return (
              (code.includes("heroName") &&
                code.includes("heroLevel") &&
                (code.includes("let") || code.includes("const")) &&
                code.includes('"')) ||
              code.includes("'")
            );
          },
          character: "üßô‚Äç‚ôÇÔ∏è",
          skill: "Variable Declaration",
        },
        {
          title: "The Forest of Functions",
          story:
            "Excellent! You've mastered variables. Now venture into the Forest of Functions, where magical incantations (functions) await. The tree spirits here will teach you to create reusable spells!",
          challenge:
            "Create a function called 'greetHero' that takes a name parameter and returns a greeting message like 'Hello, [name]! Ready for adventure?'",
          hint: 'Use \'function greetHero(name) { return "Hello, " + name + "! Ready for adventure?"; }\'',
          solution: (code) => {
            return (
              code.includes("function greetHero") &&
              code.includes("return") &&
              code.includes("name") &&
              (code.includes("+") || code.includes("`"))
            );
          },
          character: "üßö‚Äç‚ôÄÔ∏è",
          skill: "Function Creation",
        },
        {
          title: "The Conditional Caves",
          story:
            "The path splits ahead! You've reached the Conditional Caves where decisions shape reality. The Cave Guardian challenges you to prove your wisdom through logical choices.",
          challenge:
            "Create a function called 'checkHeroStatus' that takes a level parameter. If level is greater than 5, return 'Veteran Hero', if level is greater than 1, return 'Novice Hero', otherwise return 'Beginner'.",
          hint: "Use if/else statements: if (level > 5) { return 'Veteran Hero'; } else if (level > 1) { return 'Novice Hero'; } else { return 'Beginner'; }",
          solution: (code) => {
            return (
              code.includes("function checkHeroStatus") &&
              code.includes("if") &&
              code.includes("else") &&
              code.includes("return") &&
              code.includes(">")
            );
          },
          character: "üóø",
          skill: "Conditional Logic",
        },
        {
          title: "The Loop Labyrinth",
          story:
            "You've entered the mystical Loop Labyrinth! Here, time bends and actions repeat. Master the art of loops to escape this magical maze and gain incredible power over repetition!",
          challenge:
            "Create a function called 'powerUp' that uses a for loop to return the sum of numbers from 1 to a given number (n). For example, powerUp(3) should return 6 (1+2+3).",
          hint: "Use: function powerUp(n) { let sum = 0; for (let i = 1; i <= n; i++) { sum += i; } return sum; }",
          solution: (code) => {
            return (
              code.includes("function powerUp") &&
              code.includes("for") &&
              code.includes("return") &&
              (code.includes("+=") || code.includes("sum"))
            );
          },
          character: "üåÄ",
          skill: "Loop Mastery",
        },
        {
          title: "The Array Arsenal",
          story:
            "Welcome to the Array Arsenal, where heroes store their magical items! The Quartermaster needs you to organize the kingdom's treasures using the ancient art of arrays.",
          challenge:
            "Create an array called 'inventory' with at least 3 items (strings), then create a function 'addItem' that takes an item parameter and adds it to the inventory array.",
          hint: "Use: let inventory = ['sword', 'shield', 'potion']; function addItem(item) { inventory.push(item); }",
          solution: (code) => {
            return (
              code.includes("inventory") &&
              code.includes("[") &&
              code.includes("]") &&
              code.includes("function addItem") &&
              code.includes("push")
            );
          },
          character: "‚öîÔ∏è",
          skill: "Array Manipulation",
        },
        {
          title: "The Object Observatory",
          story:
            "High atop the Object Observatory, the Stargazer teaches the final lesson. Objects hold the key to organizing complex data - the most powerful magic of all!",
          challenge:
            "Create an object called 'hero' with properties: name, level, class, and an array of skills. Then create a method called 'levelUp' that increases the level by 1.",
          hint: "Use: let hero = { name: 'YourName', level: 1, class: 'Warrior', skills: [], levelUp: function() { this.level++; } };",
          solution: (code) => {
            return (
              code.includes("hero") &&
              code.includes("{") &&
              code.includes("}") &&
              code.includes("levelUp") &&
              code.includes("function") &&
              code.includes("this.level")
            );
          },
          character: "üîÆ",
          skill: "Object Mastery",
        },
      ];

      function updateDisplay() {
        document.getElementById("level").textContent = gameState.level;
        document.getElementById("xp").textContent = gameState.xp;
        document.getElementById("health").textContent = gameState.health;
        document.getElementById("mana").textContent = gameState.mana;

        const xpPercent = gameState.xp % 100;
        document.getElementById("xp-bar").style.width = xpPercent + "%";

        const healthPercent = (gameState.health / gameState.maxHealth) * 100;
        document.getElementById("health-bar").style.width = healthPercent + "%";

        const manaPercent = (gameState.mana / gameState.maxMana) * 100;
        document.getElementById("mana-bar").style.width = manaPercent + "%";

        const skillsHtml = gameState.skills
          .map((skill) => `<span class="skill-badge">${skill}</span>`)
          .join("");
        document.getElementById("skills").innerHTML = skillsHtml;
      }

      function loadChallenge() {
        const challenge = challenges[gameState.currentChallenge];
        document.getElementById("character").textContent = challenge.character;
        document.getElementById("story-text").textContent = challenge.story;
        document.getElementById("challenge-text").innerHTML = `<strong>Quest ${
          gameState.currentChallenge + 1
        }: ${challenge.title}</strong><br><br>${challenge.challenge}`;
        document.getElementById("code-input").value = "";
        document.getElementById("result").innerHTML = "";
        document.getElementById("hint").style.display = "none";
        document.getElementById("next-btn").style.display = "none";
      }

      function runCode() {
        const code = document.getElementById("code-input").value;
        const challenge = challenges[gameState.currentChallenge];
        const resultDiv = document.getElementById("result");

        if (!code.trim()) {
          resultDiv.innerHTML =
            '<div class="error">‚ö†Ô∏è You must write some code first!</div>';
          return;
        }

        try {
          // Basic syntax check
          new Function(code);

          if (challenge.solution(code)) {
            resultDiv.innerHTML =
              '<div class="success">üéâ Quest Complete! You\'ve mastered this challenge!</div>';
            gainXP(25);
            gameState.skills.push(challenge.skill);
            document.getElementById("next-btn").style.display = "inline-block";
          } else {
            resultDiv.innerHTML =
              '<div class="error">‚ùå Not quite right. Check the requirements and try again!</div>';
            loseHealth(10);
          }
        } catch (error) {
          resultDiv.innerHTML = `<div class="error">üí• Syntax Error: ${error.message}</div>`;
          loseHealth(15);
        }

        updateDisplay();
      }

      function getHint() {
        const challenge = challenges[gameState.currentChallenge];
        const hintDiv = document.getElementById("hint");
        hintDiv.innerHTML = `<div class="hint">üí° Oracle says: ${challenge.hint}</div>`;
        hintDiv.style.display = "block";

        if (gameState.mana >= 10) {
          gameState.mana -= 10;
          updateDisplay();
        }
      }

      function nextChallenge() {
        gameState.currentChallenge++;

        if (gameState.currentChallenge >= challenges.length) {
          document.getElementById("story-text").innerHTML =
            "üèÜ CONGRATULATIONS! üèÜ<br><br>You have completed all quests and become a true JavaScript Master! " +
            "The Syntax Demons have been defeated and the Code Realm is safe once again!<br><br>" +
            "Continue practicing your skills - there are always new adventures in the world of JavaScript!";
          document.getElementById("challenge-text").innerHTML =
            "<strong>üéä Victory Achieved! üéä</strong><br><br>You are now a JavaScript Code Warrior!";
          document.getElementById("code-input").style.display = "none";
          document.querySelector(".challenge-panel .button").style.display =
            "none";
          document.getElementById("next-btn").style.display = "none";
          return;
        }

        loadChallenge();
      }

      function gainXP(amount) {
        gameState.xp += amount;
        if (gameState.xp >= 100) {
          levelUp();
        }
      }

      function levelUp() {
        gameState.level++;
        gameState.xp = 0;
        gameState.maxHealth += 20;
        gameState.maxMana += 10;
        gameState.health = gameState.maxHealth;
        gameState.mana = gameState.maxMana;

        const resultDiv = document.getElementById("result");
        resultDiv.innerHTML +=
          '<div class="success">üÜô LEVEL UP! Your power grows stronger!</div>';
      }

      function loseHealth(amount) {
        gameState.health = Math.max(0, gameState.health - amount);
        if (gameState.health === 0) {
          gameState.health = gameState.maxHealth;
          document.getElementById("result").innerHTML +=
            '<div class="error">üíÄ You were defeated but respawned with full health!</div>';
        }
      }

      // Initialize game
      loadChallenge();
      updateDisplay();
    </script>
  </body>
</html>
